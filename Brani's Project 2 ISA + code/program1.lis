*memory
	P: ~hb~ 10
	Q: ~hb~ 21
	Result: ~hb~ 0
	Current_Power: ~hb~ 0

*instructions
	
	INIT r1, 1
	INIT r2, 1
	INIT r0, 0

loop1:
	INIT r3, 3
	LWD r0, [3] //Store current power.
	ADD r2, 3
	ADD r2, 3

loop2:
	SLE r0, 0
	JIF 6 //out1
jumpBack4:
	JIF -4 //loop1
	INIT r3, 1
	LWD r3, [r3] //Set r3 to Q.
jumpBack3:
	JIF -3 //loop2
	INIT r1, 2
	SWD r0, [r1] //Store result.
out1:
	JIF 5 //out2
jumpBack2:
	JIF -7 //jumpBack4, to jump to loop1
	SUBR0 r3 //Subtract Q.
	INIT r3, 1
	JIF -7 //jumpBack3, to jump to loop2

out2:
	INIT r1, 2
	LWD r1, [r1] //Set r1 back to before it was negative.

	INIT r0, 0
	LWD r0, [r0] //Set r0 to current power.
jumpBack1:
	JIF -7 //jumpBack2
	ADDI r0, 1 
	INIT r3, 0
	LWD r3, [r3] //Set r3 to original power.
	SLER r3, r0
	JIF 3 //out3
	INIT r3, 1
	JIF -7 //jumpBack1 

out3: 
	HLT
